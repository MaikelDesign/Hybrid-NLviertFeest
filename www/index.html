<!DOCTYPE html>
<html>
    <!--
	  * Please see the included README.md file for license terms and conditions.
	-->

    <head>
        <link rel="stylesheet" type="text/css" href="framework7/css/framework7.ios.min.css">
        <meta charset="UTF-8">
        <title>Nederland viert Feest</title>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">

        <!--
		  * The "meta viewport" tag (below) helps your app size appropriately to a device's ideal viewport.
		  * Note that Windows device viewports work better when initialized using the @viewport CSS rule.
		  * For a quick overview of "meta viewport" and @viewport, see this article:
		  *   http://webdesign.tutsplus.com/tutorials/htmlcss-tutorials/quick-tip-dont-forget-the-viewport-meta-tag
		  * To see how it works, try your app on a real device with and without a "meta viewport" tag.
		  * Additional useful references include:
		  *   http://www.quirksmode.org/mobile/viewports.html
		  *   http://www.quirksmode.org/mobile/metaviewport/devices.html
		  *   https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html
		-->

        <!-- <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1"> -->
        <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=no">
        <!-- <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1, maximum-scale=2"> -->

        <style>
            /* following three (cascaded) are equivalent to above three meta viewport statements */
            /* see http://www.quirksmode.org/blog/archives/2014/05/html5_dev_conf.html */
            /* see http://dev.w3.org/csswg/css-device-adapt/ */
                @-ms-viewport { width: 100vw ; min-zoom: 100% ; zoom: 100% ; }          @viewport { width: 100vw ; min-zoom: 100% zoom: 100% ; }
                @-ms-viewport { user-zoom: fixed ; min-zoom: 100% ; }                   @viewport { user-zoom: fixed ; min-zoom: 100% ; }
                /*@-ms-viewport { user-zoom: zoom ; min-zoom: 100% ; max-zoom: 200% ; }   @viewport { user-zoom: zoom ; min-zoom: 100% ; max-zoom: 200% ; }*/
        </style>

        <link rel="stylesheet" href="css/app.css">
        <link rel="stylesheet" type="text/css" href="css/index_main.less.css" class="main-less">
        <link rel="stylesheet" type="text/css" href="css/index_main.less.css" class="main-less">
        <link rel="stylesheet" type="text/css" href="css/index_main.less.css" class="main-less">
        <!-- Recommended location for your JavaScript libraries -->
        <!-- These library references (below) are just examples to give you the general idea... -->
        <!-- <script src="lib/mc/hammer.js"></script> -->
        <!-- <script src="lib/ft/fastclick.js"></script> -->

        <!--
		  * cordova.js is a phantom lib for "Cordova HTML5 web app," it does nothing in a "Standard HTML5 web app"
		  * Seeing a "Failed to load resource: net::ERR_FILE_NOT_FOUND" message caused by this "cordova.js" script?
		  * The cordova.js script is required if you convert your "Standard HTML5" project into a "Cordova" project.
		  * You can safely ignore the error or comment out this line if you will not be developing a Cordova app.
		-->
        <script src="cordova.js" id="xdkJScordova_"></script>

        <script src="js/app.js"></script>
        <!-- for your event code, see README and file comments for details -->
        <script src="js/init-app.js"></script>
        <!-- for your init code, see README and file comments for details -->
        <script src="xdk/init-dev.js"></script>
        <!-- normalizes device and document ready events, see file for details -->
        <script type="application/javascript" src="lib/jquery.min.js"></script>
        <script type="application/javascript" src="framework7/js/framework7.min.js"></script>
        <script type="application/javascript" src="camera/cordova-cam.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDolEFOXA2OGZ0OGkrRFSEBU-Aoh0vU_KY&sensor=true&libraries=places" type="text/javascript"></script>
    </head>

    <body>
	     <!-- Status bar overlay for fullscreen mode-->
	    <div class="statusbar-overlay"></div>
	    <!-- Panels overlay-->
	    <div class="panel-overlay"></div>
	    
        <div class="views tabs toolbar-through">
	        <!-- Your first view, it is also a .tab and should have "active" class to make it visible by default-->
            <div id="view-1" class="view view-main tab active">
					
				<div class="navbar">
                    <div class="navbar-inner">
                        <div class="left">
                            <div class="widget-container content-area horiz-area wrapping-col"></div>
                        </div>
                        <div class="center sliding">Nederland Viert Feest</div>
                        <div class="right">
                            <div class="widget-container content-area horiz-area wrapping-col">
								<a href="#" class="link event listening button" onclick="checkLoginState();">
									<span>Login</span>
								</a>
<!--
								<fb:login-button autologoutlink="true" scope="user_likes, user_friends, rsvp_event, user_events" onlogin="checkLoginState();"></fb:login-button>
	                        
--></div>
                        </div>
                    </div>
                </div>
                <div class="pages navbar-through">
                    <div data-page="index-1" class="page">
                        <!-- Page content should have additional "pull-to-refresh-content" class -->
						<div class="page-content pull-to-refresh-content pull-to-refresh-content-events" data-ptr-distance="55">
						<!-- Default pull to refresh layer-->
						<div class="pull-to-refresh-layer">
						    <div class="preloader"></div>
						    <div class="pull-to-refresh-arrow"></div>
						</div>				
                            <div class="list-block cu-no-margin">
                                <ul class="cu-events">
                                    <!-- List items -->     
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- end first view -->
            
            <!-- Photo view -->
            
            <div id="view-2" class="view tab">
					
				<div class="navbar">
                    <div class="navbar-inner">
                        <div class="left">
                            <div class="widget-container content-area horiz-area wrapping-col"></div>
                        </div>
                        <div class="center sliding">Nederland Viert Feest</div><div id="fb-root"></div>
                        <div class="right">
                            <div class="widget-container content-area horiz-area wrapping-col"></div>
                        </div>
                    </div>
                </div>
                <div class="pages navbar-through">
                    <div data-page="index-2" class="page">
                        <!-- Page content should have additional "pull-to-refresh-content" class -->
						<div class="page-content pull-to-refresh-content pull-to-refresh-content-photos" data-ptr-distance="55">
						<!-- Default pull to refresh layer-->
						<div class="pull-to-refresh-layer">
						    <div class="preloader"></div>
						    <div class="pull-to-refresh-arrow"></div>
						</div>				
                            <div class="list-block cu-no-margin">
                                <ul class="cu-photos">
                                    <!-- List items --> 
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- end second view -->
            
            <div class="toolbar tabbar tabbar-labels">
                    <div class="toolbar-inner">
                        <a href="#view-1" class="tab-link active">
                            <i class="icon tabbar-list"></i>
                            <span class="tabbar-label">Events</span>
                        </a>   
                        <a href="#view-2" class="tab-link">
				            <i class="icon tabbar-camera"></i>
				            <span class="tabbar-label">Foto's</span>
				        </a>                                                     
                    </div>
                </div>
        </div> <!-- end views -->
        	<script>

	// This function is called when someone finishes with the Login

			    
			 
				
			    function statusChangeCallback(response) {
				    	console.log('statusChangeCallback');
				    	alert(response);
				    
					  if (response.status === 'connected') {
					    // the user is logged in and has authenticated your
					    // app, and response.authResponse supplies
					    // the user's ID, a valid access token, a signed
					    // request, and the time the access token 
					    // and signed request each expire
					    var uid = response.authResponse.userID;
					    var accessToken = response.authResponse.accessToken;
					    console.log('userID: '+uid+' - - accessToken: '+accessToken);
						testAPI();
					  } else if (response.status === 'not_authorized') {
					    // the user is logged in to Facebook, 
					    // but has not authenticated your app
					    FB.login(function(response) {}, {scope: 'user_likes, user_friends, rsvp_event, user_events'});
        			  } else {
					    // the user isn't logged in to Facebook.
	    			    FB.login(function(response) {}, {scope: 'user_likes, user_friends, rsvp_event, user_events'});
					  }
					  
					  return accessToken;
					  
				 }; // statusChangeCallback end

			
				
				
			window.fbAsyncInit = function() {
			   FB.init({
			      appId      : '127020264423117',
			      status	 : true,
			      xfbml      : true,
			      cookie	 : true,
			      version    : 'v2.7'
			    });
				 
				
/*
				FB.getLoginStatus(function(response) {
					
					statusChangeCallback(response);
					
					FB.api('/1052545014834420?fields=attending.limit(attending_count)', function(response){ 
						
						alert(JSON.stringify(response.attending_count));
*/
						
/*
						 FB.api('/1052545014834420?fields=attending.limit('+count+')', function(response){ 
							 console.log(JSON.stringify(response,null,2));				        
						 });	
*/		        
// 					});

// 				 });	 
		
		
//GET friends events: me?fields=friends{id,name,events{id,name,start_time}}
				
// 				var attending = FB.api('/[EVENT-ID]?fields=attending');

// 				FB.api('/1052545014834420?fields=attending', function(response){ 
// 					 document.getElementById('return').innerHTML = JSON.stringify(response);				        
// 				} );
				
				
			    
			}; // fbAsyncInit end
			
			(function(d, s, id){
			
			     var js, fjs = d.getElementsByTagName(s)[0];
			     if (d.getElementById(id)) {return;}
			     js = d.createElement(s); js.id = id;
			     js.src = "//connect.facebook.net/en_US/sdk.js";
			     fjs.parentNode.insertBefore(js, fjs);
			     
			}(document, 'script', 'facebook-jssdk'));
			
			
				// Button.  See the onlogin handler attached to it in the sample
				// code below.
				function checkLoginState() {
					alert('tap');
				    FB.getLoginStatus(function(response) {
// 				      statusChangeCallback(response);
						alert(response);				      
				    });
				}
			
			
     		 // Here we run a very simple test of the Graph API after login is successful. 
	 		 // This testAPI() function is only called in those cases. 
	 		 function testAPI() {
	 		 	console.log('Welcome!  Fetching your information.... ');
	 		 	FB.api('/me', function(response) {
	 		 		console.log('Good to see you, ' + response.name + '.');
// 					document.getElementById('status').innerHTML = 'Thanks for loggin in, ' + response.name + '!';

	 		 	});
			}	
						
	</script>
        <script type="application/javascript" src="framework7/moments.js"></script>
        <script type="application/javascript" src="framework7/my-app.js"></script>
        <script src="http://debug-software.intel.com/target/target-script-min.js#QoZYbK5OnPWPooZBexBXNW1_UH53ykmfyLgT2fH9vEc"></script>
	</body>

</html>